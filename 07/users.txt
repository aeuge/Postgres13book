-- Users

SELECT rolname FROM pg_roles;
SELECT usename, usesuper FROM pg_catalog.pg_user;
\du

CREATE ROLE test;
SELECT * FROM pg_catalog.pg_user;

ALTER USER test LOGIN;
\c - test

-- error

-- now peer authentication with unix socket, but in unix we have not user test
-- enable password by setting peer -> md5
nano /etc/postgresql/13/main/pg_hba.conf
pg_ctlcluster restart 13 main

-- set password
\password test
or
ALTER USER test PASSWORD 'pass$123';

\c - test
\dt
SELECT * FROM t;

-- create new user with NOLOGIN
CREATE USER test2 WITH PASSWORD 'pass$123' NOLOGIN;
\c - test2

